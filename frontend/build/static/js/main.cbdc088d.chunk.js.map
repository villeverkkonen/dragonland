{"version":3,"sources":["store/hero/actions/index.tsx","store/hero/reducer/index.tsx","services/equipment.tsx","store/equipment/actions/index.tsx","store/equipment/reducer/index.tsx","store/battlefield/actions/index.tsx","store/battlefield/reducer/index.tsx","store/index.tsx","services/highscores.tsx","components/Highscores.tsx","components/Home.tsx","components/Equipment.tsx","components/HeroStats.tsx","components/Hero.tsx","components/EquipmentForSale.tsx","components/EquipmentShop.tsx","components/DragonStats.tsx","components/LifeBar.tsx","components/Battlefield.tsx","components/GameOver.tsx","components/GameWin.tsx","routes/Routes.tsx","App.tsx","index.tsx"],"names":["CREATE_HERO","BUY_EQUIPMENT","WIN_GOLD","LOSE_GOLD","GAME_OVER","GAIN_LIFE","LOSE_LIFE","EVERY_EQUIPMENT_COLLECTED","INCREMENT_ROUNDS_FOUGHT","INCREMENT_HITS","initialState","name","gold","life","attack","defense","maxHit","everyEquipmentCollected","roundsFought","hits","equipment","heroReducer","state","arguments","length","undefined","action","type","Object","objectSpread","stats","map","stat","title","toLowerCase","points","price","concat","goldAmount","newGoldAmount","lifeAmount","newLifeAmount","baseUrl","services_equipment","getEquipment","axios","get","then","res","data","getRandomEquipment","getXEquipment","amount","FETCH_EQUIPMENT","fetchEquipmentSuccess","compare","a","b","id","equipmentReducer","SWITCH_FIGHT_ON","fightOn","battlefieldReducer","rootReducer","combineReducers","services_highscores","getTopTenOrdered","sort","slice","newHighscore","highscore","post","Highscores","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","highscores","inherits","createClass","key","value","_componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","highscoreService","sent","setState","stop","apply","react_default","createElement","className","React","Component","Home","components_Highscores","Equipment","src","imageUrl","alt","HeroStats","_this$props","connect","Hero","handleNameChange","event","currentTarget","createHero","nameRequiredWarning","htmlFor","onChange","autoFocus","onClick","components_HeroStats","components_Equipment","dispatch","EquipmentForSale","_getPrototypeOf2","_len","args","Array","_key","buyEquipment","_this2","herosEquipment","includes","disabled","EquipmentShop","_ref","components_EquipmentForSale","react_router","to","DragonStats","LifeBar","lifeBarStyles","width","style","fightOver","hitAmount","Battlefield","startFight","herosLife","dragonsLife","herosHit","dragonsHit","switchFightOn","incrementRoundsFought","fight","battleOver","dealDamage","wait","ms","Promise","setTimeout","showWinnerForTwoSec","_callee2","_context2","showWinner","animation","elementId","transformParams1","transformParams2","element","document","getElementById","animate","transform","duration","iterations","_callee3","_context3","incrementHits","Math","floor","random","maxHitForHero","maxHitForDragon","_callee4","heroWon","_context4","battleWon","battleLost","_callee5","_context5","gameWin","winGold","_callee6","_context6","winAmount","_callee7","_context7","loseAmount","gameOver","loseGold","_callee8","_context8","_callee9","_context9","extraHitForGreenDragon","components_LifeBar","components_DragonStats","GameOver","Routes","checkIfFightOn","e","preventDefault","react_router_dom","path","exact","component","GameWin","App","fetchEquipment","routes_Routes","equipmentService","abrupt","_x","store","createStore","applyMiddleware","thunk","ReactDOM","render","es","src_App"],"mappings":"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","file":"static/js/main.cbdc088d.chunk.js","sourcesContent":["import { EquipmentType } from '../../equipment/types';\r\n\r\nexport const CREATE_HERO = 'CREATE_HERO';\r\nexport const BUY_EQUIPMENT = 'BUY_EQUIPMENT';\r\nexport const WIN_GOLD = 'WIN_GOLD';\r\nexport const LOSE_GOLD = 'LOSE_GOLD';\r\nexport const GAME_OVER = 'GAME_OVER';\r\nexport const GAIN_LIFE = 'GAIN_LIFE';\r\nexport const LOSE_LIFE = 'LOSE_LIFE';\r\nexport const EVERY_EQUIPMENT_COLLECTED = 'EVERY_EQUIPMENT_COLLECTED';\r\nexport const INCREMENT_ROUNDS_FOUGHT = 'INCREMENT_ROUNDS_FOUGHT';\r\nexport const INCREMENT_HITS = 'INCREMENT_HITS';\r\n\r\nexport const createHero = (name: string) => {\r\n  return {\r\n    type: CREATE_HERO,\r\n    name\r\n  };\r\n};\r\n\r\nexport const buyEquipment = (equipment: EquipmentType) => {\r\n  return {\r\n    type: BUY_EQUIPMENT,\r\n    equipment\r\n  };\r\n};\r\n\r\nexport const winGold = (amount: number) => {\r\n  return {\r\n    type: WIN_GOLD,\r\n    goldAmount: amount\r\n  };\r\n};\r\n\r\nexport const loseGold = (amount: number) => {\r\n  return {\r\n    type: LOSE_GOLD,\r\n    goldAmount: amount\r\n  };\r\n};\r\n\r\nexport const gainLife = (amount: number) => {\r\n  return {\r\n    type: GAIN_LIFE,\r\n    lifeAmount: amount\r\n  };\r\n};\r\n\r\nexport const loseLife = (amount: number) => {\r\n  return {\r\n    type: LOSE_LIFE,\r\n    lifeAmount: amount\r\n  };\r\n};\r\n\r\nexport const gameOver = () => {\r\n  return {\r\n    type: GAME_OVER\r\n  }\r\n}\r\n\r\nexport const everyEquipmentCollected = () => {\r\n  return {\r\n    type: EVERY_EQUIPMENT_COLLECTED\r\n  }\r\n}\r\n\r\nexport const incrementRoundsFought = () => {\r\n  return {\r\n    type: INCREMENT_ROUNDS_FOUGHT\r\n  }\r\n}\r\n\r\nexport const incrementHits = () => {\r\n  return {\r\n    type: INCREMENT_HITS\r\n  }\r\n}","import {\r\n  CREATE_HERO,\r\n  BUY_EQUIPMENT,\r\n  WIN_GOLD,\r\n  LOSE_GOLD,\r\n  GAME_OVER,\r\n  GAIN_LIFE,\r\n  LOSE_LIFE,\r\n  EVERY_EQUIPMENT_COLLECTED,\r\n  INCREMENT_ROUNDS_FOUGHT,\r\n  INCREMENT_HITS\r\n} from '../actions';\r\nimport { EquipmentType } from '../../equipment/types';\r\nimport { HeroType } from '../types';\r\n\r\nconst initialState: HeroType = {\r\n  name: '',\r\n  gold: 0,\r\n  life: 0,\r\n  attack: 0,\r\n  defense: 0,\r\n  maxHit: 30,\r\n  everyEquipmentCollected: false,\r\n  roundsFought: 0,\r\n  hits: 0,\r\n  equipment: []\r\n};\r\n\r\nexport function heroReducer(\r\n  state = initialState,\r\n  action: { type: string, name: string, goldAmount: number, lifeAmount: number, equipment: EquipmentType }) {\r\n    switch (action.type) {\r\n      case CREATE_HERO:\r\n        return {\r\n          ...state,\r\n          gold: 5,\r\n          life: 100,\r\n          name: action.name\r\n        };\r\n      case BUY_EQUIPMENT:\r\n        let attack = 0;\r\n        let defense = 0;\r\n        action.equipment.stats.map(stat => {\r\n          if (stat.title.toLowerCase() === 'attack') {\r\n            attack = stat.points\r\n          } else if (stat.title.toLowerCase() === 'defense') {\r\n            defense = stat.points\r\n          }\r\n          return null;\r\n        });\r\n        return {\r\n          ...state,\r\n          gold: state.gold - action.equipment.price,\r\n          attack: state.attack + attack,\r\n          defense: state.defense + defense,\r\n          maxHit: state.maxHit + attack,\r\n          equipment: state.equipment.concat(action.equipment)\r\n        };\r\n      case WIN_GOLD:\r\n        return {\r\n          ...state,\r\n          gold: state.gold + action.goldAmount\r\n        };\r\n      case LOSE_GOLD:\r\n        let newGoldAmount = state.gold - action.goldAmount;\r\n        if (newGoldAmount < 0) {\r\n          newGoldAmount = 0;\r\n        }\r\n        return {\r\n          ...state,\r\n          gold: newGoldAmount\r\n        };\r\n      case GAIN_LIFE:\r\n        return {\r\n          ...state,\r\n          life: state.life + action.lifeAmount\r\n        };\r\n      case LOSE_LIFE:\r\n        let newLifeAmount = state.life - action.lifeAmount;\r\n        if (newLifeAmount < 0) {\r\n          newLifeAmount = 0;\r\n        }\r\n        return {\r\n          ...state,\r\n          life: newLifeAmount\r\n        };\r\n      case INCREMENT_ROUNDS_FOUGHT:\r\n        return {\r\n          ...state,\r\n          roundsFought: state.roundsFought + 1\r\n        }\r\n      case INCREMENT_HITS:\r\n        return {\r\n          ...state,\r\n          hits: state.hits + 1\r\n        }\r\n      case EVERY_EQUIPMENT_COLLECTED:\r\n        return {\r\n          ...state,\r\n          everyEquipmentCollected: true\r\n        }\r\n      case GAME_OVER:\r\n        return {\r\n          name: '',\r\n          gold: 0,\r\n          life: 0,\r\n          attack: 0,\r\n          defense: 0,\r\n          maxHit: 0,\r\n          everyEquipmentCollected: false,\r\n          roundsFought: 0,\r\n          hits: 0,\r\n          equipment: []\r\n        };\r\n      default:\r\n        return state;\r\n    };\r\n};\r\n\r\nexport default heroReducer;","import axios from 'axios';\r\nconst baseUrl: string = '/api/equipment';\r\n\r\nconst getEquipment = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(res => { return res.data });\r\n};\r\n\r\nconst getRandomEquipment = () => {\r\n  const request = axios.get(`${baseUrl}/random`);\r\n  return request.then(res => { return res.data });\r\n};\r\n\r\nconst getXEquipment = (amount: number) => {\r\n  const request = axios.get(`${baseUrl}/amount/${amount}`);\r\n  return request.then(res => { return res.data });\r\n};\r\n\r\nexport default {\r\n  getEquipment,\r\n  getRandomEquipment,\r\n  getXEquipment\r\n};","import { EquipmentType } from '../../equipment/types';\r\nimport equipmentService from '../../../services/equipment';\r\nimport { Dispatch } from 'react';\r\n\r\nexport const FETCH_EQUIPMENT = 'FETCH_EQUIPMENT';\r\n\r\nexport function fetchEquipment() {\r\n  return async (dispatch: Dispatch<any>) => {\r\n    const res = await equipmentService.getEquipment();\r\n    dispatch(fetchEquipmentSuccess(res.equipment.sort(compare)));\r\n    return res;\r\n  }\r\n};\r\n\r\nexport const fetchEquipmentSuccess = (equipment: EquipmentType[]) => ({\r\n  type: FETCH_EQUIPMENT,\r\n  equipment\r\n});\r\n\r\nfunction compare(a: any, b: any) {\r\n  return a.id - b.id;\r\n}","import {\r\n  FETCH_EQUIPMENT\r\n} from '../actions';\r\nimport { EquipmentType } from '../../equipment/types';\r\n\r\ninterface State {\r\n  equipment?: EquipmentType[];\r\n}\r\n\r\nconst initialState: State = {\r\n  equipment: []\r\n};\r\n\r\nexport function equipmentReducer(\r\n  state = initialState,\r\n  action: { type: string, equipment?: EquipmentType[] }) {\r\n    switch (action.type) {\r\n      case FETCH_EQUIPMENT:\r\n        return {\r\n          equipment: action.equipment\r\n        };\r\n      default:\r\n        return state;\r\n    };\r\n};\r\n\r\nexport default equipmentReducer;","export const SWITCH_FIGHT_ON = 'SWITCH_FIGHT_ON';\r\n\r\nexport const switchFightOn = () => ({\r\n  type: SWITCH_FIGHT_ON\r\n});\r\n","import {\r\n  SWITCH_FIGHT_ON\r\n} from '../actions';\r\n\r\ninterface State {\r\n  fightOn: boolean;\r\n}\r\n\r\nconst initialState: State = {\r\n  fightOn: false\r\n};\r\n\r\nexport function battlefieldReducer(\r\n  state = initialState,\r\n  action: { type: string }) {\r\n    switch (action.type) {\r\n      case SWITCH_FIGHT_ON:\r\n        return {\r\n          fightOn: !state.fightOn\r\n        };\r\n      default:\r\n        return state;\r\n    };\r\n};\r\n\r\nexport default battlefieldReducer;","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport heroReducer from './hero/reducer';\r\nimport equipmentReducer from './equipment/reducer';\r\nimport battlefieldReducer from './battlefield/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  heroReducer: heroReducer,\r\n  equipmentReducer: equipmentReducer,\r\n  battlefieldReducer: battlefieldReducer\r\n});\r\n\r\nexport type AppState = ReturnType<typeof rootReducer>;\r\n\r\nexport default function configureStore() {\r\n  const store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(thunk)\r\n  );\r\n\r\n  return store;\r\n};","import axios from 'axios';\r\nconst baseUrl: string = '/api/highscores';\r\n\r\nconst getTopTenOrdered = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(res => {\r\n    return res.data.sort(compare).slice(0, 10);\r\n  });\r\n};\r\n\r\nconst newHighscore = (highscore: Object) => {\r\n  const request = axios.post(baseUrl, highscore);\r\n  return request.then(res => { return res.data });\r\n};\r\n\r\nfunction compare(a: any, b: any) {\r\n  return a.roundsFought - b.roundsFought || a.hits - b.hits || b.gold - a.gold;\r\n}\r\n\r\nexport default {\r\n  getTopTenOrdered,\r\n  newHighscore\r\n};","import React from 'react';\r\nimport highscoreService from '../services/highscores';\r\n\r\ninterface Highscore {\r\n  id: string;\r\n  name: string;\r\n  roundsFought: number;\r\n  hits: number;\r\n  gold: number;\r\n};\r\n\r\ninterface HighscoresState {\r\n  highscores: Highscore[];\r\n};\r\n\r\nexport class Highscores extends React.Component<any, HighscoresState> {\r\n  constructor(props: HighscoresState) {\r\n    super(props);\r\n    this.state = {\r\n      highscores: []\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const highscores = await highscoreService.getTopTenOrdered();\r\n    await this.setState({ highscores });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"highscores\">\r\n        <h3>Highscores</h3>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Rounds</th>\r\n              <th>Hits</th>\r\n              <th>Gold</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n          {this.state.highscores.map(highscore => (\r\n            <tr key={highscore.id}>\r\n              {highscore.name.length > 15\r\n              ? <td>{highscore.name.slice(0, 15)}</td>\r\n              : <td>{highscore.name}</td>\r\n              }\r\n              <td>{highscore.roundsFought}</td>\r\n              <td>{highscore.hits}</td>\r\n              <td>{highscore.gold}</td>\r\n            </tr>\r\n          ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default Highscores;","import React from 'react';\r\nimport HighScores from './Highscores';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"home\">\r\n      <h1>DragonLand</h1>\r\n      <div className=\"home-introduction\">\r\n        <span className=\"home-introduction-1\">Create a hero,</span>\r\n        <span className=\"home-introduction-2\">equip yourself,</span>\r\n        <span className=\"home-introduction-3\">slay the dragons!</span>\r\n      </div>\r\n      <div className=\"home-info\">\r\n        <span className=\"home-info-row\">Your quest is to vanquish the dragons with as few fought rounds and hits as possible.</span>\r\n        <span className=\"home-info-row\">Green Dragon, the final boss, appears when you have collected all the equipment.</span>\r\n        <span className=\"home-info-row\">Losing all your money or getting crushed by the Green Dragon ends the game.</span>\r\n        <span className=\"home-info-row\">Winning a fight earns you 3 gold, getting defeated makes you lose 2 gold.</span>\r\n      </div>\r\n      <HighScores />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport { EquipmentType } from '../store/equipment/types';\r\n\r\ninterface EquipmentProps {\r\n  equipment: EquipmentType;\r\n}\r\n\r\nconst Equipment = (props: EquipmentProps) => {\r\n  return (\r\n    <div className=\"equipment\">\r\n      <p>{props.equipment.title}</p>\r\n      {props.equipment.stats.map(stat => {\r\n        return (\r\n          <div key={stat.title}>\r\n            {stat.title + \": +\" + stat.points}\r\n          </div>\r\n        );\r\n      })}\r\n      <img src={props.equipment.imageUrl} alt={props.equipment.title} className=\"equipment-img\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Equipment;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\ninterface HeroStatsProps {\r\n  roundsFought: number;\r\n  hits: number;\r\n  gold: number;\r\n  attack: number;\r\n  defense: number;\r\n  maxHit: number;\r\n}\r\n\r\ninterface HeroStatsState {\r\n  heroReducer: {\r\n    roundsFought: number;\r\n    hits: number;\r\n    gold: number;\r\n    attack: number;\r\n    defense: number;\r\n    maxHit: number;\r\n  }\r\n}\r\n\r\nexport class HeroStats extends React.Component<HeroStatsProps, HeroStatsState> {\r\n  render() {\r\n    let { roundsFought, hits, gold, attack, defense, maxHit } = this.props;\r\n\r\n    return (\r\n      <div className=\"hero-stats\">\r\n        <p>\r\n          <span className=\"left-column\">Rounds:</span>\r\n          <span className=\"right-column\">{roundsFought}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"left-column\">Hits:</span>\r\n          <span className=\"right-column\">{hits}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"left-column\">Gold:</span>\r\n          <span className=\"right-column\">{gold}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"left-column\">Attack:</span>\r\n          <span className=\"right-column\">{attack}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"left-column\">Defense:</span>\r\n          <span className=\"right-column\">{defense}</span>\r\n        </p>\r\n        <p>\r\n          <span className=\"left-column\">Max hit:</span>\r\n          <span className=\"right-column\">{maxHit}</span>\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: HeroStatsState) => ({\r\n  gold: state.heroReducer.gold,\r\n  attack: state.heroReducer.attack,\r\n  defense: state.heroReducer.defense,\r\n  maxHit: state.heroReducer.maxHit,\r\n  roundsFought: state.heroReducer.roundsFought,\r\n  hits: state.heroReducer.hits\r\n});\r\n\r\nexport default connect(mapStateToProps)(HeroStats);","import React, { Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Equipment from './Equipment';\r\nimport HeroStats from './HeroStats';\r\nimport { EquipmentType } from '../store/equipment/types';\r\nimport { createHero } from '../store/hero/actions';\r\n\r\ninterface HeroProps {\r\n  name: string;\r\n  equipment: EquipmentType[];\r\n  createHero: (name: string) => void;\r\n}\r\n\r\ninterface HeroState {\r\n  heroReducer: {\r\n    name: string;\r\n    equipment: EquipmentType[]\r\n  }\r\n}\r\n\r\ninterface DispatchProps {\r\n  createHero: (name: string) => void;\r\n}\r\n\r\ntype createHeroParam = React.SyntheticEvent<{ value: string }>;\r\n\r\nexport class Hero extends React.Component<HeroProps, any> {\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      nameRequiredWarning: false\r\n    }\r\n  }\r\n\r\n  handleNameChange = (event: createHeroParam) => {\r\n    this.setState({\r\n      name: event.currentTarget.value\r\n    })\r\n  }\r\n\r\n  createHero = () => {\r\n    if (this.state.name.length > 0 && this.state.name.length < 16) {\r\n      this.props.createHero(this.state.name);\r\n    } else {\r\n      this.setState({ nameRequiredWarning: true });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name, equipment } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {name.length === 0 ?\r\n          <div className=\"hero-form\">\r\n            <h3>Create a hero</h3>\r\n            {this.state.nameRequiredWarning\r\n            ? <div className=\"name-required-warning\"><p>Name has to be 1-15 characters</p></div>\r\n            : null}\r\n            <label htmlFor=\"input-name\">Name:</label>\r\n            <input type=\"text\" id=\"input-name\" onChange={this.handleNameChange} autoFocus />\r\n            <button className=\"button create-hero-btn\" onClick={this.createHero}>Create</button>\r\n          </div>\r\n        : null}\r\n\r\n        {name && name.length > 0\r\n        ?\r\n          <div className=\"hero-info\">\r\n            <h3>{name}</h3>\r\n            <HeroStats />\r\n            <h3>Equipments:</h3>\r\n            {equipment && equipment.length > 0\r\n            ?\r\n              <div className=\"grid-container\">\r\n                {equipment.map(equipment => (\r\n                  <div className=\"grid-item\" key={equipment.id}>\r\n                    <Equipment equipment={equipment} key={equipment.id} />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            : null}\r\n          </div>\r\n        : null}\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state: HeroState) => ({\r\n  name: state.heroReducer.name,\r\n  equipment: state.heroReducer.equipment\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchProps => ({\r\n  createHero: (name: string) => dispatch(createHero(name))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Hero);","import React, { Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { EquipmentType } from '../store/equipment/types';\r\nimport { buyEquipment } from '../store/hero/actions';\r\n\r\ninterface EquipmentForSaleProps {\r\n  gold: number;\r\n  herosEquipment: EquipmentType[];\r\n  equipment: EquipmentType;\r\n  buyEquipment: (equipment: EquipmentType) => void;\r\n}\r\n\r\ninterface EquipmentForSaleState {\r\n  heroReducer: {\r\n    gold: number;\r\n    equipment: EquipmentType[];\r\n  }\r\n}\r\n\r\ninterface DispatchProps {\r\n  buyEquipment: (equipment: EquipmentType) => void;\r\n}\r\n\r\nexport class EquipmentForSale extends React.Component<EquipmentForSaleProps, EquipmentForSaleState> {\r\n  buyEquipment = (equipment: EquipmentType) => {\r\n    this.props.buyEquipment(equipment);\r\n  }\r\n\r\n  render() {\r\n    const { gold, herosEquipment } = this.props;\r\n    return (\r\n      <div className=\"equipment-for-sale\">\r\n        <p>{this.props.equipment.title}</p>\r\n\r\n        {this.props.equipment.stats.map(stat => {\r\n          return (\r\n            <div key={stat.title}>\r\n              {stat.title + \": +\" + stat.points}\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <p>Price: {this.props.equipment.price}</p>\r\n        <img src={this.props.equipment.imageUrl} alt={this.props.equipment.title} className=\"equipment-img equipment-for-sale-img\" />\r\n        {gold >= this.props.equipment.price && !herosEquipment.includes(this.props.equipment)\r\n        ?\r\n          <button onClick={() => this.buyEquipment(this.props.equipment)} className=\"button buy-equipment-btn\">Buy</button>\r\n        :\r\n          herosEquipment.includes(this.props.equipment)\r\n          ? <button disabled className=\"button buy-equipment-btn owned\">Owned</button>\r\n          : <button disabled className=\"button buy-equipment-btn no-gold\">No gold</button>\r\n        }\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state: EquipmentForSaleState) => ({\r\n  gold: state.heroReducer.gold,\r\n  herosEquipment: state.heroReducer.equipment\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchProps => ({\r\n  buyEquipment: (equipment: EquipmentType) => dispatch(buyEquipment(equipment))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EquipmentForSale);","import React, { Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport EquipmentForSale from './EquipmentForSale';\r\nimport { EquipmentType } from '../store/equipment/types';\r\nimport { everyEquipmentCollected } from '../store/hero/actions';\r\nimport { Redirect } from 'react-router';\r\n\r\ninterface EquipmentShopProps {\r\n  equipment: EquipmentType[];\r\n  herosEquipment: EquipmentType[];\r\n  gold: number;\r\n  name: string;\r\n  everyEquipmentCollected: () => void;\r\n}\r\n\r\ninterface EquipmentShopState {\r\n  equipmentReducer: {\r\n    equipment: EquipmentType[];\r\n  },\r\n  heroReducer: {\r\n    gold: number;\r\n    equipment: EquipmentType[];\r\n    name: string;\r\n  }\r\n}\r\n\r\ninterface DispatchProps {\r\n  everyEquipmentCollected: () => void;\r\n}\r\n\r\nclass EquipmentShop extends React.Component<EquipmentShopProps, EquipmentShopState> {\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.herosEquipment.length === this.props.equipment.length) {\r\n      this.everyEquipmentCollected();\r\n    }\r\n  }\r\n\r\n  everyEquipmentCollected = () => {\r\n    this.props.everyEquipmentCollected();\r\n  }\r\n\r\n  render() {\r\n    const { equipment, herosEquipment, gold, name } = this.props as EquipmentShopProps;\r\n\r\n    if (!name) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>Gold: {gold}</h3>\r\n        {equipment.length > 0\r\n        ?\r\n          <div className=\"grid-container\">\r\n            {equipment.map(equipment => (\r\n              !herosEquipment.includes(equipment)\r\n              ?\r\n                <div className=\"grid-item\" key={equipment.id}>\r\n                  <EquipmentForSale equipment={equipment} />\r\n                </div>\r\n              : null\r\n            ))}\r\n          </div>\r\n        : null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: EquipmentShopState) => ({\r\n  equipment: state.equipmentReducer.equipment,\r\n  gold: state.heroReducer.gold,\r\n  herosEquipment: state.heroReducer.equipment,\r\n  name: state.heroReducer.name\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchProps => ({\r\n  everyEquipmentCollected: () => dispatch(everyEquipmentCollected())\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EquipmentShop);","import React from 'react';\r\n\r\nconst DragonStats = (props: any) => {\r\n\r\n  return (\r\n    <div className=\"dragon-stats\">\r\n      <p>\r\n        <span className=\"left-column\">Max hit: </span>\r\n        <span className=\"right-column\">{props.maxHit}</span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DragonStats;","import React from 'react';\r\n\r\ninterface LifeBarProps {\r\n  life: number;\r\n  fightOn: boolean;\r\n  fightOver: boolean;\r\n  hitAmount: number;\r\n}\r\n\r\ninterface LifeBarState {\r\n  life: number;\r\n}\r\n\r\nexport class LifeBar extends React.Component<LifeBarProps, LifeBarState> {\r\n  constructor(props: LifeBarProps) {\r\n    super(props);\r\n    this.state = {\r\n      life: 0\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ life: this.props.life });\r\n  }\r\n\r\n  render() {\r\n    const lifeBarStyles = {\r\n      width: `${this.props.life}%`\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"lifebar\">\r\n          <div className=\"lifebar-background\">\r\n            <span className=\"lifebar-number\">{this.props.life}</span>\r\n            <div className=\"lifebar-life\" style={lifeBarStyles}></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"battlefield-damage\">\r\n          {this.props.fightOn || this.props.fightOver\r\n          ? -this.props.hitAmount\r\n          : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nexport default LifeBar;","import React, { Dispatch } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { connect } from 'react-redux';\r\nimport { winGold, loseGold, gameOver, incrementRoundsFought, incrementHits } from '../store/hero/actions';\r\nimport { switchFightOn } from '../store/battlefield/actions';\r\nimport { EquipmentType } from '../store/equipment/types';\r\nimport HeroStats from './HeroStats';\r\nimport DragonStats from './DragonStats';\r\nimport LifeBar from './LifeBar';\r\nimport highscores from '../services/highscores';\r\n\r\ninterface BattlefieldProps {\r\n  name: string;\r\n  roundsFought: number;\r\n  hits: number;\r\n  gold: number;\r\n  fightOn: boolean;\r\n  fightOver: boolean;\r\n  heroWon: boolean;\r\n  winAmount: number;\r\n  loseAmount: number;\r\n  herosLife: number;\r\n  attack: number;\r\n  defense: number;\r\n  maxHitForHero: number;\r\n  everyEquipmentCollected: boolean;\r\n  herosEquipment: EquipmentType[];\r\n  winGold: (amount: number) => void;\r\n  loseGold: (amount: number) => void;\r\n  gameOver: () => void;\r\n  incrementRoundsFought: () => void;\r\n  incrementHits: () => void;\r\n  switchFightOn: () => void;\r\n}\r\n\r\ninterface BattlefieldState {\r\n  fightOn: boolean;\r\n  fightOver: boolean;\r\n  heroWon: boolean;\r\n  winAmount: number;\r\n  loseAmount: number;\r\n  gameOver: boolean;\r\n  gameWin: boolean;\r\n  herosHit: number;\r\n  herosLife: number;\r\n  dragonsLife: number;\r\n  dragonsHit: number;\r\n  maxHitForDragon: number;\r\n  extraHitForGreenDragon: number;\r\n  showWinner: boolean;\r\n}\r\n\r\ninterface MapStateProps {\r\n  heroReducer: {\r\n    name: string;\r\n    roundsFought: number;\r\n    hits: number;\r\n    gold: number;\r\n    life: number;\r\n    equipment: EquipmentType[];\r\n    attack: number;\r\n    defense: number;\r\n    maxHit: number;\r\n    everyEquipmentCollected: boolean;\r\n  }\r\n}\r\n\r\ninterface DispatchProps {\r\n  winGold: (amount: number) => void;\r\n  loseGold: (amount: number) => void;\r\n  gameOver: () => void;\r\n  incrementRoundsFought: () => void;\r\n  incrementHits: () => void;\r\n  switchFightOn: () => void;\r\n}\r\n\r\nexport class Battlefield extends React.Component<BattlefieldProps, BattlefieldState> {\r\n  constructor(props: BattlefieldProps) {\r\n    super(props);\r\n    this.state = {\r\n      fightOn: false,\r\n      fightOver: false,\r\n      heroWon: false,\r\n      winAmount: 3,\r\n      loseAmount: 2,\r\n      gameOver: false,\r\n      gameWin: false,\r\n      herosHit: 0,\r\n      herosLife: 100,\r\n      dragonsLife: 100,\r\n      dragonsHit: 0,\r\n      maxHitForDragon: 30,\r\n      extraHitForGreenDragon: 9,\r\n      showWinner: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Stats for Green Dragon if all equipment have been collected\r\n    if (this.props.everyEquipmentCollected) {\r\n      this.setState({\r\n        maxHitForDragon: this.state.maxHitForDragon - this.props.defense + this.state.extraHitForGreenDragon\r\n      });\r\n    } else {\r\n      this.setState({\r\n        maxHitForDragon: this.state.maxHitForDragon - this.props.defense\r\n      });\r\n    }\r\n  }\r\n\r\n  startFight = async () => {\r\n    await this.setState({\r\n      fightOn: true,\r\n      herosLife: this.props.herosLife,\r\n      dragonsLife: 100,\r\n      herosHit: 0,\r\n      dragonsHit: 0\r\n    });\r\n    this.props.switchFightOn();\r\n    this.props.incrementRoundsFought();\r\n    this.fight();\r\n  }\r\n\r\n  fight = () => {\r\n    if (this.state.herosLife <= 0 || this.state.dragonsLife <= 0) {\r\n      this.battleOver();\r\n    } else {\r\n      this.dealDamage();\r\n    }\r\n  }\r\n\r\n  wait = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\n  showWinnerForTwoSec = async () => {\r\n    this.setState({ showWinner: true });\r\n    await this.wait(2000);\r\n    this.setState({ showWinner: false });\r\n  }\r\n\r\n  animation = (elementId: string, transformParams1: string, transformParams2: string) => {\r\n    const element = document.getElementById(elementId);\r\n    if (element) {\r\n      element.animate({\r\n          transform: [transformParams1, transformParams2],\r\n      }, {\r\n          duration: 500,\r\n          iterations: 1,\r\n      });\r\n    }\r\n  }\r\n\r\n  dealDamage = async () => {\r\n    // Hero hits first after 1 second\r\n    await this.wait(1000);\r\n    this.props.incrementHits();\r\n    this.animation('hero-character', 'translateX(10px)', 'translateX(-10px)');\r\n    const herosHit = Math.floor(Math.random() * (this.props.maxHitForHero + 1));\r\n    let dragonsLife = this.state.dragonsLife - herosHit;\r\n    if (dragonsLife < 0) {\r\n      dragonsLife = 0;\r\n    }\r\n    this.setState({\r\n      dragonsLife,\r\n      herosHit\r\n    });\r\n\r\n    // Dragon hits 1 second after Hero\r\n    if (this.state.dragonsLife > 0) {\r\n      await this.wait(1000);\r\n      this.animation('dragon-character', 'translateY(-10px)', 'translateY(10px)');\r\n      const dragonsHit = Math.floor(Math.random() * (this.state.maxHitForDragon + 1));\r\n      let herosLife = this.state.herosLife - dragonsHit;\r\n      if (herosLife < 0) {\r\n        herosLife = 0;\r\n      }\r\n      this.setState({\r\n        herosLife,\r\n        dragonsHit\r\n      });\r\n    }\r\n    this.fight();\r\n  }\r\n\r\n  battleOver = async () => {\r\n    await this.props.switchFightOn();\r\n    let heroWon: boolean;\r\n    this.state.herosLife > 0 ? heroWon = true : heroWon = false;\r\n    await this.setState({\r\n      fightOn: false,\r\n      fightOver: true,\r\n      heroWon\r\n    });\r\n    heroWon ? this.battleWon() : this.battleLost();\r\n  }\r\n\r\n  battleWon = async () => {\r\n    if (this.props.everyEquipmentCollected) {\r\n      await this.newHighscore();\r\n      await this.gameWin();\r\n    } else {\r\n      this.winGold();\r\n      this.showWinnerForTwoSec();\r\n    }\r\n  }\r\n\r\n  newHighscore = async () => {\r\n    const highscore = {\r\n      name: this.props.name,\r\n      roundsFought: this.props.roundsFought,\r\n      hits: this.props.hits,\r\n      gold: this.props.gold\r\n    }\r\n    await highscores.newHighscore(highscore);\r\n  }\r\n\r\n  winGold = () => {\r\n    this.props.winGold(this.state.winAmount);\r\n  }\r\n\r\n  battleLost = async () => {\r\n    if ((this.props.gold - this.state.loseAmount <= 0) || this.props.everyEquipmentCollected) {\r\n      this.gameOver();\r\n    } else {\r\n      this.loseGold();\r\n      this.showWinnerForTwoSec();\r\n    }\r\n  }\r\n\r\n  loseGold = () => {\r\n    this.props.loseGold(this.state.loseAmount);\r\n  }\r\n\r\n  gameWin = async () => {\r\n    await this.setState({\r\n      gameWin: true,\r\n      gameOver: true\r\n    });\r\n    await this.props.gameOver();\r\n  }\r\n\r\n  gameOver = async () => {\r\n    await this.setState({\r\n      gameOver: true\r\n    });\r\n    await this.props.gameOver();\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.name) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n    if (this.state.gameWin) {\r\n      return <Redirect to=\"/gamewin\" />;\r\n    }\r\n    if (this.state.gameOver) {\r\n      return <Redirect to=\"/gameover\" />\r\n    }\r\n    return (\r\n      <div className=\"battlefield\">\r\n        <h1>Battlefield</h1>\r\n\r\n        <div className=\"battlefield-characters\">\r\n          <div className=\"battlefield-character hero-character\">\r\n            <div className=\"battlefield-hero-stats\">\r\n              <HeroStats />\r\n            </div>\r\n            <LifeBar\r\n              life={this.state.herosLife}\r\n              fightOn={this.state.fightOn}\r\n              fightOver={this.state.fightOver}\r\n              hitAmount={this.state.dragonsHit}\r\n            />\r\n            {this.state.fightOver && !this.state.fightOn\r\n            ?\r\n              this.state.heroWon\r\n              ? <img src=\"/images/hero.png\" alt=\"hero\" className=\"battlefield-character-image\" id=\"hero-character\" />\r\n              : <img src=\"/images/hero.png\" alt=\"hero\" className=\"battlefield-character-image invisible-img\" id=\"hero-character\" />\r\n            : <img src=\"/images/hero.png\" alt=\"hero\" className=\"battlefield-character-image\" id=\"hero-character\" />}\r\n          </div>\r\n          <div className=\"battlefield-character dragon-character\">\r\n            <div className=\"battlefied-dragon-stats\">\r\n              <DragonStats\r\n                maxHit={this.state.maxHitForDragon}\r\n              />\r\n            </div>\r\n            <LifeBar\r\n              life={this.state.dragonsLife}\r\n              fightOn={this.state.fightOn}\r\n              fightOver={this.state.fightOver}\r\n              hitAmount={this.state.herosHit}\r\n            />\r\n            {this.state.fightOver && !this.state.fightOn\r\n            ?\r\n              !this.state.heroWon\r\n              ?\r\n                this.props.everyEquipmentCollected\r\n                ? <img src=\"/images/dragon-boss.png\" alt=\"dragon\" className=\"battlefield-character-image\" id=\"dragon-character\" />\r\n                : <img src=\"/images/dragon.png\" alt=\"dragon\" className=\"battlefield-character-image\" id=\"dragon-character\" />\r\n              : <img src=\"/images/dragon.png\" alt=\"dragon\" className=\"battlefield-character-image invisible-img\" id=\"dragon-character\" />\r\n            :\r\n              this.props.everyEquipmentCollected\r\n              ? <img src=\"/images/dragon-boss.png\" alt=\"dragon\" className=\"battlefield-character-image\" id=\"dragon-character\" />\r\n              : <img src=\"/images/dragon.png\" alt=\"dragon\" className=\"battlefield-character-image\" id=\"dragon-character\" />\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"battlefield-actions\">\r\n          {!this.state.fightOn\r\n          ? <button className=\"button battlefield-fight-button\" onClick={this.startFight}>Fight</button>\r\n          : null}\r\n          {this.state.fightOver && !this.state.fightOn  && this.state.heroWon && this.state.showWinner\r\n          ? <p>You won!</p>\r\n          : null}\r\n          {this.state.fightOver && !this.state.fightOn  && !this.state.heroWon && this.state.showWinner\r\n          ? <p>You lost!</p>\r\n          : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: MapStateProps) => ({\r\n  name: state.heroReducer.name,\r\n  roundsFought: state.heroReducer.roundsFought,\r\n  hits: state.heroReducer.hits,\r\n  gold: state.heroReducer.gold,\r\n  herosLife: state.heroReducer.life,\r\n  attack: state.heroReducer.attack,\r\n  defense: state.heroReducer.defense,\r\n  maxHitForHero: state.heroReducer.maxHit,\r\n  everyEquipmentCollected: state.heroReducer.everyEquipmentCollected,\r\n  herosEquipment: state.heroReducer.equipment\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchProps => ({\r\n  winGold: (amount: number) => dispatch(winGold(amount)),\r\n  loseGold: (amount: number) => dispatch(loseGold(amount)),\r\n  gameOver: () => dispatch(gameOver()),\r\n  incrementRoundsFought: () => dispatch(incrementRoundsFought()),\r\n  incrementHits: () => dispatch(incrementHits()),\r\n  switchFightOn: () => dispatch(switchFightOn())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Battlefield);","import React from 'react';\r\nimport Highscores from './Highscores';\r\n\r\nconst GameOver = () => {\r\n  return (\r\n    <div className=\"gameover\">\r\n      <h3>The dragons took over the land.</h3>\r\n      <h3>Try again with a new hero!</h3>\r\n      <img src=\"/images/dragon.png\" alt=\"dragon\" className=\"gameover-img reverse-img\" />\r\n      <img src=\"/images/dragon.png\" alt=\"dragon\" className=\"gameover-img\" />\r\n      <Highscores />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameOver;","import React from 'react';\r\nimport Highscores from './Highscores';\r\n\r\nconst GameOver = () => {\r\n  return (\r\n    <div className=\"gameover\">\r\n      <h3>Congratulations!</h3>\r\n      <h3>The dragons have been vanquished and the land is free once and for all!</h3>\r\n      <img src=\"/images/hero.png\" alt=\"dragon\" className=\"gameover-img reverse-img\" />\r\n      <img src=\"/images/dragon-boss.png\" alt=\"dragon\" className=\"gameover-img revert-img\" />\r\n      <Highscores />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameOver;","import React, { MouseEvent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Link, BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport Home from '../components/Home';\r\nimport Hero from '../components/Hero';\r\nimport EquipmentShop from '../components/EquipmentShop';\r\nimport Battlefield from '../components/Battlefield';\r\nimport GameOver from '../components/GameOver';\r\nimport GameWin from '../components/GameWin';\r\n\r\ninterface RoutesProps {\r\n  name: string;\r\n  fightOn: boolean;\r\n}\r\n\r\ninterface RoutesState {\r\n  heroReducer: {\r\n    name: string\r\n  },\r\n  battlefieldReducer: {\r\n    fightOn: boolean;\r\n  }\r\n}\r\n\r\nclass Routes extends React.Component<RoutesProps, any> {\r\n\r\n  checkIfFightOn = (e: MouseEvent) => {\r\n    if (this.props.fightOn) {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { name } = this.props as RoutesProps;\r\n\r\n    return (\r\n      <Router>\r\n        <header className=\"header\">\r\n          <Link to=\"/\" onClick={this.checkIfFightOn}><img src=\"favicon.png\" alt=\"logo\" className=\"logo\" /></Link>\r\n          <div className=\"container\">\r\n            <nav className=\"nav\">\r\n              <ul className=\"nav-ul\">\r\n                <li className=\"nav-li\"><Link to=\"/hero\" className=\"nav-link\" onClick={this.checkIfFightOn}>Hero</Link></li>\r\n                {name ? <li className=\"nav-li\"><Link to=\"/shop\" className=\"nav-link\" onClick={this.checkIfFightOn}>Shop</Link></li> : null}\r\n                {name ? <li className=\"nav-li\"><Link to=\"/battlefield\" className=\"nav-link\" onClick={this.checkIfFightOn}>Battlefield</Link></li> : null}\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </header>\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/hero\" component={Hero} />\r\n            <Route path=\"/shop\" component={EquipmentShop} />\r\n            <Route path=\"/battlefield\" component={Battlefield} />\r\n            <Route path=\"/gameover\" component={GameOver} />\r\n            <Route path=\"/gamewin\" component={GameWin} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: RoutesState) => ({\r\n  name: state.heroReducer.name,\r\n  fightOn: state.battlefieldReducer.fightOn\r\n});\r\n\r\nexport default connect(mapStateToProps)(Routes);","import React, { Dispatch } from 'react';\nimport Routes from './routes/Routes';\nimport { connect } from 'react-redux';\nimport { fetchEquipment } from './store/equipment/actions';\n\ninterface DispatchProps {\n  fetchEquipment: () => void;\n}\n\nclass App extends React.Component<DispatchProps> {\n  componentDidMount() {\n    this.props.fetchEquipment();\n  }\n\n  render() {\n    return (\n      <Routes />\n    );\n  };\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchProps => ({\n  fetchEquipment: () => dispatch(fetchEquipment())\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore from './store';\nimport App from './App';\nimport './styles/index.scss';\nimport './styles/responsive.scss';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}